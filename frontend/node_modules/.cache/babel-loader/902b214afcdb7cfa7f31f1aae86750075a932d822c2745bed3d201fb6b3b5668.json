{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vitya\\\\Documents\\\\\\u041A\\u0443\\u0440\\u0441\\\\react-course\\\\react-second\\\\frontend\\\\src\\\\components\\\\TaskListPopUp.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport data from \"@emoji-mart/data\";\nimport Picker from \"@emoji-mart/react\";\nimport \"../css/TaskListPopUp.css\";\nimport Icon from \"./Icon\";\nimport Popper from \"@mui/material/Popper\";\nimport { ClickAwayListener } from \"@mui/base/ClickAwayListener\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TaskListPopUp({\n  taskLists,\n  closePopUp\n}) {\n  _s();\n  const [isNameTaken, setIsNameTaken] = useState(false);\n  const [isPickerOpen, setIsPickerOpen] = useState(false);\n  const [taskList, setTaskList] = useState({\n    name: \"\",\n    img: {\n      src: \"🫥\",\n      isEmoji: true\n    },\n    isRemovable: true\n  });\n  const anchorRef = React.useRef(null);\n  useEffect(() => {\n    function handleEscPress(event) {\n      if (event.key === \"Escape\") {\n        closePopUp(false);\n      }\n    }\n    document.addEventListener(\"keydown\", handleEscPress);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscPress);\n    };\n  }, [closePopUp]);\n  function OpenPicker(event) {\n    setIsPickerOpen(prev => !prev);\n  }\n  function ChooseEmoji(emoji) {\n    setTaskList(prevTaskList => ({\n      ...prevTaskList,\n      img: {\n        src: emoji.native,\n        isEmoji: true\n      }\n    }));\n    setIsPickerOpen(prev => !prev);\n  }\n  function handleInputChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    const taken = taskLists.some(taskList => taskList.name.includes(value));\n    setIsNameTaken(taken);\n    setTaskList(prevTaskList => ({\n      ...prevTaskList,\n      [name]: value\n    }));\n  }\n  async function handleSubmit() {\n    if (!isNameTaken) {\n      try {\n        await axios.post(\"http://localhost:5000/api/taskLists\", taskList);\n        console.log(\"Form submitted!\");\n        return 0;\n      } catch (error) {\n        console.error(\"Error creating task list:\", error);\n        throw error;\n      }\n    }\n  }\n  function closePopUpForm() {\n    closePopUp(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tasklist-popup\",\n    children: /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n      onClickAway: closePopUpForm,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tasklist-popup__container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"tasklist-popup__title\",\n          children: \"Create task list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"tasklist-popup__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form__item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"tasklist-popup__label\",\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"taskListNameInput\",\n              type: \"text\",\n              name: \"name\",\n              value: taskList.name,\n              onChange: handleInputChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form__item-inline\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"tasklist-popup__label\",\n              children: \"Icon:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon-wrapper\",\n              ref: anchorRef,\n              onClick: () => OpenPicker(),\n              children: /*#__PURE__*/_jsxDEV(Icon, {\n                isEmoji: true,\n                src: taskList.img.src,\n                name: \"New list icon\",\n                size: \"2.5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Popper, {\n              open: isPickerOpen,\n              anchorEl: anchorRef.current,\n              placement: \"right-start\",\n              children: /*#__PURE__*/_jsxDEV(Picker, {\n                data: data,\n                onEmojiSelect: ChooseEmoji,\n                theme: \"light\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"form__item\",\n            onClick: handleSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(TaskListPopUp, \"57Y8HabdjuwDiLalCCekMIlNuPs=\");\n_c = TaskListPopUp;\nexport default TaskListPopUp;\nvar _c;\n$RefreshReg$(_c, \"TaskListPopUp\");","map":{"version":3,"names":["React","useState","data","Picker","Icon","Popper","ClickAwayListener","axios","jsxDEV","_jsxDEV","TaskListPopUp","taskLists","closePopUp","_s","isNameTaken","setIsNameTaken","isPickerOpen","setIsPickerOpen","taskList","setTaskList","name","img","src","isEmoji","isRemovable","anchorRef","useRef","useEffect","handleEscPress","event","key","document","addEventListener","removeEventListener","OpenPicker","prev","ChooseEmoji","emoji","prevTaskList","native","handleInputChange","value","target","taken","some","includes","handleSubmit","post","console","log","error","closePopUpForm","className","children","onClickAway","fileName","_jsxFileName","lineNumber","columnNumber","id","type","onChange","required","ref","onClick","size","open","anchorEl","current","placement","onEmojiSelect","theme","_c","$RefreshReg$"],"sources":["C:/Users/vitya/Documents/Курс/react-course/react-second/frontend/src/components/TaskListPopUp.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport data from \"@emoji-mart/data\";\r\nimport Picker from \"@emoji-mart/react\";\r\nimport \"../css/TaskListPopUp.css\";\r\nimport Icon from \"./Icon\";\r\nimport Popper from \"@mui/material/Popper\";\r\nimport { ClickAwayListener } from \"@mui/base/ClickAwayListener\";\r\nimport axios from \"axios\";\r\n\r\nfunction TaskListPopUp({ taskLists, closePopUp }) {\r\n  const [isNameTaken, setIsNameTaken] = useState(false);\r\n  const [isPickerOpen, setIsPickerOpen] = useState(false);\r\n  const [taskList, setTaskList] = useState({\r\n    name: \"\",\r\n    img: { src: \"🫥\", isEmoji: true },\r\n    isRemovable: true,\r\n  });\r\n  const anchorRef = React.useRef(null);\r\n\r\n  useEffect(() => {\r\n    function handleEscPress(event) {\r\n      if (event.key === \"Escape\") {\r\n        closePopUp(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"keydown\", handleEscPress);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscPress);\r\n    };\r\n  }, [closePopUp]);\r\n\r\n  function OpenPicker(event) {\r\n    setIsPickerOpen((prev) => !prev);\r\n  }\r\n  function ChooseEmoji(emoji) {\r\n    setTaskList((prevTaskList) => ({\r\n      ...prevTaskList,\r\n      img: { src: emoji.native, isEmoji: true },\r\n    }));\r\n    setIsPickerOpen((prev) => !prev);\r\n  }\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    const taken = taskLists.some((taskList) => taskList.name.includes(value));\r\n    setIsNameTaken(taken);\r\n\r\n    setTaskList((prevTaskList) => ({\r\n      ...prevTaskList,\r\n      [name]: value,\r\n    }));\r\n  }\r\n  async function handleSubmit() {\r\n    if (!isNameTaken) {\r\n      try {\r\n        await axios.post(\"http://localhost:5000/api/taskLists\", taskList);\r\n        console.log(\"Form submitted!\");\r\n        return 0;\r\n      } catch (error) {\r\n        console.error(\"Error creating task list:\", error);\r\n        throw error;\r\n      }\r\n    }\r\n  }\r\n  function closePopUpForm(){\r\n    closePopUp(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"tasklist-popup\">\r\n      <ClickAwayListener onClickAway={closePopUpForm}>\r\n        <div className=\"tasklist-popup__container\">\r\n          <h3 className=\"tasklist-popup__title\">Create task list</h3>\r\n          <form className=\"tasklist-popup__form\">\r\n            <div className=\"form__item\">\r\n              <label className=\"tasklist-popup__label\">Name:</label>\r\n              <input\r\n                id=\"taskListNameInput\"\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={taskList.name}\r\n                onChange={handleInputChange}\r\n                required\r\n              ></input>\r\n            </div>\r\n            <div className=\"form__item-inline\">\r\n              <label className=\"tasklist-popup__label\">Icon:</label>\r\n              <div\r\n                className=\"icon-wrapper\"\r\n                ref={anchorRef}\r\n                onClick={() => OpenPicker()}\r\n              >\r\n                <Icon\r\n                  isEmoji={true}\r\n                  src={taskList.img.src}\r\n                  name=\"New list icon\"\r\n                  size=\"2.5\"\r\n                />\r\n              </div>\r\n              <Popper\r\n                open={isPickerOpen}\r\n                anchorEl={anchorRef.current}\r\n                placement=\"right-start\"\r\n              >\r\n                <Picker data={data} onEmojiSelect={ChooseEmoji} theme=\"light\" />\r\n              </Popper>\r\n            </div>\r\n            <button className=\"form__item\" onClick={handleSubmit}>\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </ClickAwayListener>\r\n    </div>\r\n  );\r\n}\r\nexport default TaskListPopUp;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}